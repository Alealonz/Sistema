<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard Very Nice</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome for icons -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <style>
        body {
            font-family: 'EB Garamond', serif;
            background-color: #F8F1E5; /* Color beige claro */
            padding: 0;
            margin: 0;
        }
        .sidebar {
            background-color: #DCA90E; /* Color amarillo oscuro */
            padding: 20px;
            height: 100vh;
            position: fixed;
            width: 220px; /* Aumentado para mejor separación */
            display: flex;
            flex-direction: column;
        }
        .sidebar a {
            color: #4C3B2F; /* Color café oscuro */
            display: block;
            padding: 10px;
            text-decoration: none;
            font-size: 1.1rem;
            border-radius: 5px;
            transition: background-color 0.3s;
            margin-bottom: 10px; /* Separación entre enlaces */
        }
        .sidebar a:hover {
            background-color: #B98B2C; /* Color amarillo más claro */
        }
        .content {
            margin-left: 240px;
            padding: 20px;
        }
        .header {
            background-color: #DCA90E; /* Color amarillo oscuro */
            color: #4C3B2F; /* Color café oscuro */
            padding: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .header h1 {
            margin: 0;
            font-size: 2rem;
        }
        .user-info {
            display: flex;
            align-items: center;
            color: #4C3B2F; /* Color café oscuro */
        }
        .user-info img {
            border-radius: 50%;
            width: 50px;
            height: 50px;
            margin-right: 15px;
        }
        .user-info div {
            text-align: right;
        }
        .dashboard-container {
            background-color: #FFFFFF; /* Fondo blanco */
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            margin-top: 20px; /* Espacio superior */
        }
        .history-section {
            background-color: #FFFFFF; /* Fondo blanco */
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        .history-image {
            max-width: 100%;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        .history-section h1, .history-section h2 {
            color: #DCA90E; /* Color amarillo oscuro */
        }
        .history-section blockquote {
            font-style: italic;
            border-left: 4px solid #DCA90E; /* Color amarillo oscuro */
            padding-left: 15px;
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <div class="sidebar">
        <a href="/usuarios"><i class="fas fa-user-cog"></i> Usuarios</a>
        <a href="/Cliente"><i class="fas fa-user-cog"></i> Cliente</a>
        <a href="/inventario"><i class="fas fa-boxes"></i> Productos</a>
        <a href="/materia-prima"><i class="fas fa-file-alt"></i> Inventario de materia prima</a> <!-- Ícono actualizado -->
        <a href="/ventas"><i class="fas fa-shopping-cart"></i> Ventas</a>
        <a href="/cerrar-sesion"><i class="fas fa-sign-out-alt"></i> Cerrar Sesión</a>
    </div>
    <div class="content">
        <div class="header">
            <h1>Panadería "Very Nice"</h1>
            <div class="user-info">
                <img src="/css/imagenes/logo.jpg" alt="Foto de perfil"> <!-- Cambia la ruta de la imagen por la foto del usuario -->
                <div id="usuario-info">
                    <p><strong id="nombre-usuario">Nombre del Usuario</strong></p> <!-- Aquí aparecerá el nombre del usuario autenticado -->
                    <p><em id="rol-usuario">Rol del Usuario</em></p> <!-- Aquí aparecerá el rol del usuario autenticado -->
                </div>                
            </div>
        </div>
        <div class="dashboard-container">
            <h1>Bienvenido al Dashboard</h1>
            <p>¡Has iniciado sesión con éxito!</p>
        </div>
        <div class="history-section">
            <h1>Nuestra Historia</h1>
            <p>Hace más de dos generaciones, en el año 1992, Don Gustavo fundó la Panadería "Very Nice" como una microempresa en el corazón de nuestra comunidad. Desde sus humildes comienzos, Don Gustavo soñaba con ofrecer productos de alta calidad que se convirtieran en un símbolo de nuestra región.</p>
            <img src="/css/imagenes/historia.png" alt="Historia de la Panadería" class="history-image">
            <h2>El Comienzo</h2>
            <p>Con tan solo un pequeño local y una pasión inquebrantable por la panadería, Don Gustavo logró posicionar su negocio como un referente en la comunidad. Su dedicación a la calidad y su amor por la tradición fueron los pilares que sustentaron el crecimiento de la panadería.</p>
            <blockquote>"La clave de nuestro éxito ha sido siempre el trabajo duro y el compromiso con nuestros clientes." - Don Gustavo</blockquote>
            <h2>El Legado Continúa</h2>
            <p>A lo largo de los años, la Panadería "Very Nice" ha crecido y evolucionado, pasando de ser una microempresa a una cadena con 10 sucursales en la región. Cada generación ha añadido su toque personal, pero siempre manteniendo los valores fundamentales que Don Gustavo inculcó desde el principio.</p>
            <h2>El Concepto</h2>
            <p>En la Panadería "Very Nice", creemos que el pan es más que un simple alimento; es una forma de mantener viva la tradición y de unir a las personas. Nuestro objetivo sigue siendo ofrecer productos elaborados con amor, que no solo nutran el cuerpo, sino también el alma.</p>
        </div>
        <!-- Modal de error -->
<div class="modal fade" id="errorModal" tabindex="-1" role="dialog" aria-labelledby="errorModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="errorModalLabel">Error</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body" id="errorMessage">
                <!-- Mensaje de error será insertado aquí -->
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
            </div>
        </div>
    </div>
</div>
    </div>
<script>
// Función para obtener los datos del usuario y mostrarlos en el dashboard
const isAuthenticated = (req, res, next) => {
    if (req.session.user) {
        next(); // Si el usuario está autenticado, continuar
    } else {
        res.redirect('/login'); // Si no está autenticado, redirigir a login
    }
};

// Proteger la ruta del dashboard
app.get('/dashboard', isAuthenticated, (req, res) => {
    res.sendFile(__dirname + '/views/dashboard.html'); // Ajusta según sea necesario
});

</script>
</body>
</html>
